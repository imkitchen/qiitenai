<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container">
    <div class="row">
        <div class="col-md-6">
            <div class="panel panel-default">
                <div class="panel-heading">登録情報</div>
                <div class="panel-body">
                  <ul>
                    TODO: form
                    <li>{{ getCurrentUser().name }}</li>
                    <li>{{ getCurrentUser().email }}</li>
                    <li>{{ getCurrentUser().created }}</li>
                  </ul>
                  <button class="btn btn-info">変更</button>
                </div>
            </div>
        </div>
        
        <div class="col-md-3">
            <div class="panel panel-default">
                <div class="panel-heading">パスワードの変更</div>
                <div class="panel-body">
                    <form class="form" name="form" ng-submit="changePassword(form)" novalidate>

                        <div class="form-group">
                            <label>現在のパスワード</label>
          
                            <input type="password" name="password" class="form-control" ng-model="user.oldPassword"
                 mongoose-error/>
                            <p class="help-block" ng-show="form.password.$error.mongoose">
                                {{ errors.other }}
                            </p>
                        </div>

                        <div class="form-group">
                            <label>新しいパスワード</label>

                            <input type="password" name="newPassword" class="form-control" ng-model="user.newPassword"
                                   ng-minlength="3"
                                   required/>
                            <p class="help-block"
                               ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)">
                                パスワードは最低でも3文字以上にしてください。
                            </p>
                        </div>

        <!-- 
        <div class="form-group">
          <label>新しいパスワード（確認）</label>

          <input type="password" name="newPasswordConfirm" class="form-control" required/>
          <p class="help-block"
             ng-show="(form.newPasswordConfirm !== form.newPassword || submitted)">
              パスワードが一致しません。
          </p>
        </div>
        -->
        
                        <p class="help-block"> {{ message }} </p>

                        <button class="btn btn-info" type="submit">変更</button>
                    </form>
                </div>
            </div>
        </div>


        <div class="col-md-3">
            <div class="panel panel-danger">
                <div class="panel-heading">アカウントの削除</div>
                <div class="panel-body">
                    <p>一度削除したアカウントは復旧できません。</p>
                    <button class="btn btn-sm btn-danger">アカウントを削除する</button>
                </div>
            </div>
        </div>
        
    </div>
</div>
